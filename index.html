<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DaneB3D Wholesale ‚Ä¢ 3D Print Supplier</title>
  <meta name="description" content="Wholesale-ready 3D printed products. Browse, search, and request wholesale pricing & samples." />
  <style>
    :root{
      --bg:#0b0f16;
      --panel:rgba(255,255,255,.06);
      --panel2:rgba(255,255,255,.09);
      --text:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.65);
      --line:rgba(255,255,255,.14);
      --shadow: 0 20px 60px rgba(0,0,0,.35);
      --r:18px;
      --pad:16px;
      --max:1100px;
      --acc:#7dd3fc;
      --acc2:#a7f3d0;
      --warn:#fda4af;
      --good:#86efac;
      --chip: rgba(255,255,255,.10);
      --chip2: rgba(255,255,255,.14);
    }
    [data-theme="light"]{
      --bg:#f6f7fb;
      --panel:rgba(0,0,0,.05);
      --panel2:rgba(0,0,0,.07);
      --text:rgba(0,0,0,.88);
      --muted:rgba(0,0,0,.60);
      --line:rgba(0,0,0,.12);
      --shadow: 0 14px 40px rgba(0,0,0,.14);
      --chip: rgba(0,0,0,.07);
      --chip2: rgba(0,0,0,.10);
    }
    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background:
        radial-gradient(1200px 700px at 20% 0%, rgba(125,211,252,.18), transparent 60%),
        radial-gradient(900px 600px at 90% 10%, rgba(167,243,208,.16), transparent 55%),
        radial-gradient(900px 600px at 30% 100%, rgba(253,164,175,.10), transparent 55%),
        var(--bg);
      line-height:1.35;
      overflow-x:hidden;
    }
    a{ color:inherit; }
    .wrap{ width:min(var(--max), calc(100% - 28px)); margin:0 auto; }
    .glass{
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.05));
      border:1px solid var(--line);
      box-shadow: var(--shadow);
      border-radius: var(--r);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
    }
    header{
      position:sticky; top:0; z-index:50;
      border-bottom:1px solid var(--line);
      background: color-mix(in oklab, var(--bg) 78%, transparent);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    .topbar{
      display:flex; align-items:center; justify-content:space-between;
      padding:12px 0;
      gap:12px;
    }
    .brand{
      display:flex; align-items:center; gap:10px; min-width:240px;
      text-decoration:none;
    }
    .logo{
      width:42px; height:42px; border-radius: 14px;
      background: linear-gradient(135deg, rgba(125,211,252,.9), rgba(167,243,208,.85));
      box-shadow: 0 12px 30px rgba(125,211,252,.18);
      display:grid; place-items:center;
      color:#0b0f16; font-weight:900;
      letter-spacing:-.5px;
    }
    [data-theme="light"] .logo{ color:#071018; }
    .brand h1{ font-size:15px; margin:0; letter-spacing:.2px; }
    .brand p{ margin:2px 0 0; color:var(--muted); font-size:12px; }
    .controls{
      display:flex; align-items:center; gap:10px; flex:1;
      justify-content:flex-end;
    }
    .search{
      flex:1;
      max-width:520px;
      display:flex; align-items:center; gap:10px;
      padding:10px 12px;
      border-radius: 14px;
      border:1px solid var(--line);
      background: var(--panel);
      min-width:220px;
    }
    .search input{
      width:100%;
      background:transparent;
      border:0;
      outline:0;
      color:var(--text);
      font-size:14px;
    }
    .kbd{
      font-size:12px;
      color:var(--muted);
      border:1px solid var(--line);
      background: var(--panel2);
      padding:3px 6px;
      border-radius:8px;
      white-space:nowrap;
    }
    .btn{
      border:1px solid var(--line);
      background: var(--panel);
      color:var(--text);
      padding:10px 12px;
      border-radius: 14px;
      cursor:pointer;
      font-weight:650;
      transition: transform .12s ease, background .12s ease;
      display:inline-flex; align-items:center; gap:8px;
      user-select:none;
    }
    .btn:hover{ background: var(--panel2); transform: translateY(-1px); }
    .btn:active{ transform: translateY(0px); }
    .btn.primary{
      border-color: color-mix(in oklab, var(--acc) 60%, var(--line));
      background: linear-gradient(180deg, color-mix(in oklab, var(--acc) 18%, var(--panel)), var(--panel));
    }
    .pill{
      display:inline-flex; gap:8px; align-items:center;
      padding:6px 10px;
      border-radius: 999px;
      border:1px solid var(--line);
      background: var(--chip);
      color:var(--muted);
      font-size:12px;
      user-select:none;
      cursor:pointer;
      transition: background .12s ease;
    }
    .pill:hover{ background: var(--chip2); }
    .pill.active{
      color:var(--text);
      border-color: color-mix(in oklab, var(--acc) 55%, var(--line));
      background: color-mix(in oklab, var(--acc) 18%, var(--chip));
    }
    main{ padding:18px 0 70px; }
    .hero{
      padding:18px;
      margin-top:16px;
      overflow:hidden;
      position:relative;
    }
    .hero-grid{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap:16px;
      align-items:stretch;
    }
    .hero h2{ margin:0; font-size:30px; letter-spacing:-.6px; }
    .hero p{ margin:10px 0 0; color:var(--muted); max-width:65ch; }
    .hero .actions{ margin-top:14px; display:flex; gap:10px; flex-wrap:wrap; }
    .hero-card{
      padding:14px;
      border-radius: var(--r);
      border:1px solid var(--line);
      background: var(--panel);
      display:grid; gap:10px;
    }
    .mini{
      display:grid; gap:8px;
      color:var(--muted);
      font-size:13px;
    }
    .mini b{ color:var(--text); }
    .chips{ display:flex; gap:8px; flex-wrap:wrap; margin-top:10px; }
    .section-head{
      display:flex; justify-content:space-between; align-items:flex-end;
      gap:10px;
      margin:20px 0 12px;
    }
    .section-head h3{ margin:0; font-size:16px; }
    .section-head .meta{ color:var(--muted); font-size:13px; }
    .grid{
      display:grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap:12px;
    }
    .card{
      border-radius: var(--r);
      overflow:hidden;
      border:1px solid var(--line);
      background: var(--panel);
      transition: transform .14s ease, background .14s ease;
      position:relative;
    }
    .card:hover{ transform: translateY(-2px); background: var(--panel2); }
    .thumb{
      aspect-ratio: 4 / 3;
      background: linear-gradient(135deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
      position:relative;
      overflow:hidden;
    }
    .thumb img{
      width:100%; height:100%;
      object-fit:cover;
      display:block;
      transform: scale(1.01);
      transition: transform .25s ease;
    }
    .card:hover .thumb img{ transform: scale(1.06); }
    .badge{
      position:absolute; top:10px; left:10px;
      padding:6px 10px;
      border-radius: 999px;
      border:1px solid var(--line);
      background: rgba(0,0,0,.30);
      color: rgba(255,255,255,.90);
      font-size:12px;
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
    }
    [data-theme="light"] .badge{
      background: rgba(255,255,255,.72);
      color: rgba(0,0,0,.80);
    }
    .content{ padding:12px; display:grid; gap:10px; }
    .title-row{ display:flex; align-items:flex-start; justify-content:space-between; gap:8px; }
    .title{ margin:0; font-size:15px; letter-spacing:-.2px; }
    .sku{ color:var(--muted); font-size:12px; margin-top:3px; }
    .price{
      font-weight:900;
      font-size:14px;
      padding:6px 10px;
      border-radius: 12px;
      border:1px solid var(--line);
      background: color-mix(in oklab, var(--acc2) 14%, var(--chip));
      white-space:nowrap;
      align-self:flex-start;
    }
    .specs{
      display:flex; flex-wrap:wrap; gap:8px;
      color:var(--muted);
      font-size:12px;
    }
    .spec{ padding:6px 8px; border:1px solid var(--line); border-radius: 12px; background: var(--chip); }
    .desc{ color:var(--muted); font-size:13px; margin:0; }
    .card .row{ display:flex; gap:8px; flex-wrap:wrap; }
    .row .btn{ padding:9px 10px; border-radius: 12px; font-weight:750; }
    .row .btn.small{ padding:8px 10px; font-weight:700; }
    .footer{
      margin-top:22px;
      padding:16px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
      flex-wrap:wrap;
    }
    .muted{ color:var(--muted); font-size:13px; }
    .toast{
      position:fixed;
      left:50%;
      bottom:18px;
      transform: translateX(-50%);
      padding:10px 12px;
      border-radius: 14px;
      border:1px solid var(--line);
      background: color-mix(in oklab, var(--bg) 70%, rgba(0,0,0,.35));
      box-shadow: var(--shadow);
      color: var(--text);
      display:none;
      z-index:60;
      max-width:min(560px, calc(100% - 24px));
    }
    .toast.show{ display:block; animation: pop .18s ease; }
    @keyframes pop{ from{ transform: translateX(-50%) translateY(8px); opacity:.0 } to{ transform: translateX(-50%) translateY(0); opacity:1 } }
    .modal-backdrop{
      position:fixed; inset:0;
      background: rgba(0,0,0,.55);
      display:none; z-index:80;
      padding:18px;
    }
    .modal-backdrop.show{ display:block; }
    .modal{
      width:min(780px, 100%);
      margin: 40px auto 0;
      padding:16px;
      border-radius: 22px;
      border:1px solid var(--line);
      background: var(--bg);
      box-shadow: var(--shadow);
    }
    .modal-top{
      display:flex; justify-content:space-between; align-items:center; gap:10px;
      margin-bottom:12px;
    }
    .modal h4{ margin:0; font-size:16px; letter-spacing:-.2px; }
    .form{
      display:grid; grid-template-columns:1fr 1fr;
      gap:10px;
      margin-top:10px;
    }
    .field{
      display:grid; gap:6px;
    }
    .field label{ font-size:12px; color:var(--muted); }
    .field input, .field textarea, .field select{
      border:1px solid var(--line);
      background: var(--panel);
      color: var(--text);
      padding:10px 12px;
      border-radius: 14px;
      outline:none;
      font-size:14px;
      width:100%;
    }
    textarea{ min-height:96px; resize:vertical; grid-column:1 / -1; }
    .form-actions{ display:flex; gap:10px; justify-content:flex-end; grid-column:1/-1; flex-wrap:wrap; }
    .hide{ display:none !important; }
    .sep{ height:1px; background:var(--line); margin:12px 0; }
    .count-row{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; }
    .count-row .meta{ color:var(--muted); font-size:13px; }
    @media (max-width: 920px){
      .grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
      .hero-grid{ grid-template-columns: 1fr; }
      .brand{ min-width:auto; }
    }
    @media (max-width: 520px){
      .grid{ grid-template-columns: 1fr; }
      .search{ max-width:none; }
      .form{ grid-template-columns: 1fr; }
      .modal{ margin-top:18px; }
    }
  </style>
</head>

<body>
  <header>
    <div class="wrap topbar">
      <a class="brand" href="#" id="top">
        <div class="logo">DB</div>
        <div>
          <h1>DaneB3D Wholesale</h1>
          <p>Reliable 3D prints ‚Ä¢ Wholesale-friendly</p>
        </div>
      </a>

      <div class="controls">
        <div class="search" role="search">
          <span aria-hidden="true">üîé</span>
          <input id="searchInput" type="search" placeholder="Search products (name, tags, SKU)‚Ä¶" autocomplete="off" />
          <span class="kbd" title="Keyboard shortcut">/</span>
        </div>

        <button class="btn" id="themeBtn" type="button" title="Toggle theme">üåó <span class="hide-sm">Theme</span></button>
        <button class="btn primary" id="quoteBtn" type="button">Request wholesale quote</button>
      </div>
    </div>
  </header>

  <main class="wrap">
    <section class="hero glass">
      <div class="hero-grid">
        <div>
          <h2>Wholesale-ready 3D prints your customers actually buy.</h2>
          <p>
            Pick best-sellers, request a wholesale price sheet, and reorder fast.
            All products can be customized with your store name, colors, or packaging inserts.
          </p>

          <div class="actions">
            <button class="btn primary" id="openCatalogBtn" type="button">Browse catalog</button>
            <button class="btn" id="copyEmailBtn" type="button">Copy quote email template</button>
            <button class="btn" id="copyTemplateBtn" type="button">Copy HTML product template</button>
          </div>

          <div class="chips" id="filterChips">
            <span class="pill active" data-filter="all">All</span>
            <span class="pill" data-filter="fidget">Fidgets</span>
            <span class="pill" data-filter="desk">Desk</span>
            <span class="pill" data-filter="gaming">Gaming</span>
            <span class="pill" data-filter="display">Display</span>
            <span class="pill" data-filter="lowtime">Fast prints</span>
          </div>
        </div>

        <div class="hero-card">
          <div class="mini">
            <div><b>Lead time:</b> 1‚Äì3 business days (typical)</div>
            <div><b>Wholesale MOQs:</b> flexible ‚Ä¢ case discounts</div>
            <div><b>Materials:</b> PLA / PETG (ask for options)</div>
            <div><b>Branding:</b> custom colors + insert cards</div>
          </div>
          <div class="sep"></div>
          <div class="count-row">
            <span class="pill" id="sortPill" title="Click to change sorting">Sort: Featured</span>
            <span class="meta" id="resultMeta">0 products</span>
          </div>
          <div class="muted">
            Tip: press <span class="kbd">/</span> to focus search ‚Ä¢ <span class="kbd">Esc</span> to clear.
          </div>
        </div>
      </div>
    </section>

    <div class="section-head">
      <h3>Catalog</h3>
      <div class="meta">Click a product for details ‚Ä¢ ‚ÄúAdd to quote‚Äù builds a list</div>
    </div>

    <section class="grid" id="productGrid" aria-live="polite"></section>

    <section class="footer glass">
      <div>
        <div style="font-weight:900; letter-spacing:-.2px;">DaneB3D Wholesale</div>
        <div class="muted">Wholesale supplier ‚Ä¢ Arizona, USA</div>
      </div>
      <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center;">
        <button class="btn" id="backTopBtn" type="button">‚Üë Back to top</button>
        <button class="btn" id="openQuoteBtn2" type="button">Open quote form</button>
      </div>
    </section>
  </main>

  <div class="toast" id="toast" role="status" aria-live="polite"></div>

  <div class="modal-backdrop" id="modalBackdrop" aria-hidden="true">
    <div class="modal glass" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="modal-top">
        <h4 id="modalTitle">Request wholesale quote</h4>
        <button class="btn" id="closeModalBtn" type="button" title="Close">‚úï</button>
      </div>

      <div class="muted">
        Fill this out and it generates an email you can send. Your selected products will be included automatically.
      </div>

      <div class="sep"></div>

      <form class="form" id="quoteForm">
        <div class="field">
          <label for="storeName">Store / business name</label>
          <input id="storeName" required placeholder="Example: DJ Collectibles" />
        </div>
        <div class="field">
          <label for="contactName">Your name</label>
          <input id="contactName" required placeholder="Example: Dane" />
        </div>
        <div class="field">
          <label for="email">Reply-to email</label>
          <input id="email" type="email" required placeholder="you@store.com" />
        </div>
        <div class="field">
          <label for="tier">Wholesale tier</label>
          <select id="tier">
            <option value="Starter (small order)">Starter (small order)</option>
            <option value="Standard (restock orders)">Standard (restock orders)</option>
            <option value="High volume (monthly)">High volume (monthly)</option>
          </select>
        </div>

        <textarea id="notes" placeholder="Notes: quantities, colors, packaging, customization, delivery expectations‚Ä¶"></textarea>

        <div class="form-actions">
          <button class="btn" type="button" id="clearQuoteBtn">Clear selected products</button>
          <button class="btn primary" type="submit">Generate email</button>
        </div>
      </form>

      <div class="sep"></div>

      <div class="muted">
        Selected products: <span id="selectedList">None yet</span>
      </div>
    </div>
  </div>

  <!--
  =========================
  PRODUCT TEMPLATE (COPY/PASTE)
  - Paste inside the <section id="productGrid"> by duplicating existing product objects in JS,
    OR paste this HTML into a static section if you prefer manual cards.
  - Pictures: put your image files in the same folder and set src="images/yourfile.jpg"
    OR use a direct https image URL.
  =========================

  <article class="card" data-name="YOUR PRODUCT NAME" data-sku="SKU-000" data-tags="fidget,desk,lowtime">
    <div class="thumb">
      <img src="images/your-product.jpg" alt="YOUR PRODUCT NAME" loading="lazy"
           onerror="this.onerror=null; this.src='https://images.unsplash.com/photo-1523275335684-37898b6baf30?auto=format&fit=crop&w=1200&q=70';" />
      <span class="badge">Category</span>
    </div>
    <div class="content">
      <div class="title-row">
        <div>
          <h4 class="title">YOUR PRODUCT NAME</h4>
          <div class="sku">SKU: SKU-000 ‚Ä¢ Material: PLA/PETG</div>
        </div>
        <div class="price">$X.XX ea</div>
      </div>

      <div class="specs">
        <span class="spec">Print: 1h 20m</span>
        <span class="spec">MOQ: 12</span>
        <span class="spec">Margin: High</span>
      </div>

      <p class="desc">Short description your buyers will understand. Mention what it does + why it sells.</p>

      <div class="row">
        <button class="btn small" type="button" onclick="window.dispatchEvent(new CustomEvent('addToQuote', { detail: { sku: 'SKU-000', name: 'YOUR PRODUCT NAME' } }))">‚ûï Add to quote</button>
        <button class="btn small" type="button" onclick="alert('Add a details modal or link here!')">Details</button>
      </div>
    </div>
  </article>

  =========================
  END TEMPLATE
  =========================
  -->

  <script>
    const $ = (q, el=document) => el.querySelector(q);
    const $$ = (q, el=document) => [...el.querySelectorAll(q)];

    const state = {
      theme: localStorage.getItem("db_theme") || "dark",
      filter: "all",
      sort: localStorage.getItem("db_sort") || "featured",
      query: "",
      selected: JSON.parse(localStorage.getItem("db_selected") || "[]")
    };

    const PRODUCTS = [
      {
        name: "Articulated Mini Dragon (Pocket)",
        sku: "DB-FDG-101",
        tags: ["fidget","display","featured"],
        badge: "Best seller",
        price: 4.50,
        moq: 12,
        time: "1h 10m",
        margin: "High",
        material: "PLA / PETG",
        img: "images/mini-dragon.jpg",
        fallback: "https://images.unsplash.com/photo-1518837695005-2083093ee35b?auto=format&fit=crop&w=1200&q=70",
        desc: "Smooth articulated fidget dragon that sells fast at counters and gift shops."
      },
      {
        name: "Desk Cable Buddy (2-pack)",
        sku: "DB-DSK-204",
        tags: ["desk","lowtime"],
        badge: "Fast print",
        price: 2.25,
        moq: 24,
        time: "35m",
        margin: "Medium",
        material: "PLA",
        img: "images/cable-buddy.jpg",
        fallback: "https://images.unsplash.com/photo-1518779578993-ec3579fee39f?auto=format&fit=crop&w=1200&q=70",
        desc: "Simple, useful, and cheap to stock. Great impulse buy near checkout."
      },
      {
        name: "Controller Stand (Universal)",
        sku: "DB-GME-310",
        tags: ["gaming","desk","featured"],
        badge: "Featured",
        price: 5.25,
        moq: 12,
        time: "1h 40m",
        margin: "High",
        material: "PLA / PETG",
        img: "images/controller-stand.jpg",
        fallback: "https://images.unsplash.com/photo-1511512578047-dfb367046420?auto=format&fit=crop&w=1200&q=70",
        desc: "Clean display stand for controllers. Looks great on shelves and in bundles."
      },
      {
        name: "Mystery Fidget Clicker",
        sku: "DB-FDG-142",
        tags: ["fidget","lowtime"],
        badge: "New",
        price: 1.95,
        moq: 36,
        time: "25m",
        margin: "Medium",
        material: "PLA",
        img: "images/fidget-clicker.jpg",
        fallback: "https://images.unsplash.com/photo-1520975693416-35a0d32b4b5b?auto=format&fit=crop&w=1200&q=70",
        desc: "Small, satisfying, and cheap. Perfect for bins, bundles, and add-ons."
      },
      {
        name: "Display Skull (Stylized)",
        sku: "DB-DSP-509",
        tags: ["display"],
        badge: "Display",
        price: 7.50,
        moq: 6,
        time: "2h 40m",
        margin: "High",
        material: "PLA / PETG",
        img: "images/display-skull.jpg",
        fallback: "https://images.unsplash.com/photo-1519681393784-d120267933ba?auto=format&fit=crop&w=1200&q=70",
        desc: "Shelf piece that moves. Great for collectors and themed displays."
      },
      {
        name: "Keychain Tag (Custom Text)",
        sku: "DB-DSK-118",
        tags: ["desk","lowtime"],
        badge: "Custom",
        price: 1.25,
        moq: 50,
        time: "12m",
        margin: "Medium",
        material: "PLA",
        img: "images/keychain.jpg",
        fallback: "https://images.unsplash.com/photo-1524594227084-2ac9f7000c7b?auto=format&fit=crop&w=1200&q=70",
        desc: "Customizable with names/brands. Low print time, easy bulk orders."
      }
    ];

    function setTheme(t){
      state.theme = t;
      document.documentElement.setAttribute("data-theme", t === "light" ? "light" : "dark");
      localStorage.setItem("db_theme", state.theme);
      toast(`Theme: ${t}`);
    }

    function toast(msg){
      const el = $("#toast");
      el.textContent = msg;
      el.classList.add("show");
      clearTimeout(toast._t);
      toast._t = setTimeout(()=> el.classList.remove("show"), 1800);
    }

    function normalize(s){ return (s||"").toLowerCase().trim(); }

    function matches(product){
      const q = normalize(state.query);
      const tagOk = state.filter === "all" ? true : product.tags.includes(state.filter);
      if(!q) return tagOk;

      const hay = normalize([product.name, product.sku, product.desc, product.tags.join(" ")].join(" "));
      return tagOk && hay.includes(q);
    }

    function sortProducts(list){
      const copy = [...list];
      if(state.sort === "featured"){
        const score = (p) => (p.tags.includes("featured") ? 100 : 0) + (p.tags.includes("lowtime") ? 10 : 0);
        copy.sort((a,b)=> score(b)-score(a));
      } else if(state.sort === "price_low"){
        copy.sort((a,b)=> a.price-b.price);
      } else if(state.sort === "price_high"){
        copy.sort((a,b)=> b.price-a.price);
      } else if(state.sort === "name"){
        copy.sort((a,b)=> a.name.localeCompare(b.name));
      }
      return copy;
    }

    function render(){
      const grid = $("#productGrid");
      const filtered = PRODUCTS.filter(matches);
      const sorted = sortProducts(filtered);

      $("#resultMeta").textContent = `${sorted.length} product${sorted.length===1?"":"s"} shown`;

      grid.innerHTML = sorted.map(p => {
        const selected = state.selected.some(x => x.sku === p.sku);
        return `
          <article class="card" tabindex="0" role="button" aria-label="Open ${escapeHtml(p.name)} details"
                   data-name="${escapeAttr(p.name)}" data-sku="${escapeAttr(p.sku)}" data-tags="${escapeAttr(p.tags.join(","))}">
            <div class="thumb">
              <img src="${escapeAttr(p.img)}" alt="${escapeAttr(p.name)}" loading="lazy"
                   onerror="this.onerror=null; this.src='${escapeAttr(p.fallback)}';" />
              <span class="badge">${escapeHtml(p.badge)}</span>
            </div>
            <div class="content">
              <div class="title-row">
                <div>
                  <h4 class="title">${escapeHtml(p.name)}</h4>
                  <div class="sku">SKU: ${escapeHtml(p.sku)} ‚Ä¢ Material: ${escapeHtml(p.material)}</div>
                </div>
                <div class="price">$${p.price.toFixed(2)} ea</div>
              </div>

              <div class="specs">
                <span class="spec">Print: ${escapeHtml(p.time)}</span>
                <span class="spec">MOQ: ${escapeHtml(String(p.moq))}</span>
                <span class="spec">Margin: ${escapeHtml(p.margin)}</span>
              </div>

              <p class="desc">${escapeHtml(p.desc)}</p>

              <div class="row">
                <button class="btn small ${selected ? "primary" : ""}" type="button" data-add="${escapeAttr(p.sku)}">
                  ${selected ? "‚úì In quote" : "‚ûï Add to quote"}
                </button>
                <button class="btn small" type="button" data-copy="${escapeAttr(p.sku)}">Copy SKU</button>
              </div>
            </div>
          </article>
        `;
      }).join("");

      $$(".card", grid).forEach(card => {
        card.addEventListener("click", (e)=>{
          const btn = e.target.closest("button");
          if(btn) return;
          openDetails(card.dataset.sku);
        });
        card.addEventListener("keydown", (e)=>{
          if(e.key === "Enter" || e.key === " "){
            e.preventDefault();
            openDetails(card.dataset.sku);
          }
        });
      });

      $$("[data-add]", grid).forEach(btn => btn.addEventListener("click", (e)=>{
        e.stopPropagation();
        toggleSelect(btn.getAttribute("data-add"));
      }));

      $$("[data-copy]", grid).forEach(btn => btn.addEventListener("click", async (e)=>{
        e.stopPropagation();
        const sku = btn.getAttribute("data-copy");
        await copyText(sku);
        toast(`Copied: ${sku}`);
      }));

      updateSelectedUI();
    }

    function escapeHtml(s){
      return String(s).replace(/[&<>"']/g, m => ({ "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;" }[m]));
    }
    function escapeAttr(s){ return escapeHtml(s).replace(/"/g, "&quot;"); }

    function toggleSelect(sku){
      const p = PRODUCTS.find(x => x.sku === sku);
      if(!p) return;
      const idx = state.selected.findIndex(x => x.sku === sku);
      if(idx >= 0){
        state.selected.splice(idx,1);
        toast(`Removed: ${p.name}`);
      } else {
        state.selected.push({ sku: p.sku, name: p.name });
        toast(`Added: ${p.name}`);
      }
      localStorage.setItem("db_selected", JSON.stringify(state.selected));
      render();
    }

    function updateSelectedUI(){
      const el = $("#selectedList");
      if(!state.selected.length){
        el.textContent = "None yet";
        return;
      }
      el.textContent = state.selected.map(x => `${x.name} (${x.sku})`).join(", ");
    }

    function openModal(){
      const back = $("#modalBackdrop");
      back.classList.add("show");
      back.setAttribute("aria-hidden","false");
      updateSelectedUI();
      setTimeout(()=> $("#storeName").focus(), 0);
    }

    function closeModal(){
      const back = $("#modalBackdrop");
      back.classList.remove("show");
      back.setAttribute("aria-hidden","true");
    }

    function cycleSort(){
      const order = ["featured","name","price_low","price_high"];
      const i = order.indexOf(state.sort);
      state.sort = order[(i+1) % order.length];
      localStorage.setItem("db_sort", state.sort);
      const label = state.sort === "featured" ? "Featured" :
                    state.sort === "name" ? "Name" :
                    state.sort === "price_low" ? "Price ‚Üë" : "Price ‚Üì";
      $("#sortPill").textContent = `Sort: ${label}`;
      toast(`Sorting: ${label}`);
      render();
    }

    function setFilter(f){
      state.filter = f;
      $$("#filterChips .pill").forEach(p => p.classList.toggle("active", p.dataset.filter === f));
      render();
    }

    async function copyText(text){
      try{
        await navigator.clipboard.writeText(text);
      }catch{
        const ta = document.createElement("textarea");
        ta.value = text;
        document.body.appendChild(ta);
        ta.select();
        document.execCommand("copy");
        ta.remove();
      }
    }

    function buildEmailBody(form){
      const picks = state.selected.length
        ? state.selected.map(x => `- ${x.name} (${x.sku})`).join("\n")
        : "- (no products selected yet)";

      const lines = [
        `Hello DaneB3D Wholesale,`,
        ``,
        `I'd like a wholesale quote.`,
        ``,
        `Store/Business: ${form.storeName}`,
        `Contact Name: ${form.contactName}`,
        `Reply Email: ${form.email}`,
        `Wholesale Tier: ${form.tier}`,
        ``,
        `Products I'm interested in:`,
        picks,
        ``,
        `Notes:`,
        form.notes || "(none)",
        ``,
        `Thank you!`
      ];
      return lines.join("\n");
    }

    function openDetails(sku){
      const p = PRODUCTS.find(x => x.sku === sku);
      if(!p) return;
      const info = `${p.name}\nSKU: ${p.sku}\nMaterial: ${p.material}\nMOQ: ${p.moq}\nPrint time: ${p.time}\nWholesale: $${p.price.toFixed(2)} ea\n\n${p.desc}`;
      copyText(info);
      toast("Copied product details to clipboard");
    }

    function init(){
      setTheme(state.theme);

      const sortLabel = state.sort === "featured" ? "Featured" :
                        state.sort === "name" ? "Name" :
                        state.sort === "price_low" ? "Price ‚Üë" : "Price ‚Üì";
      $("#sortPill").textContent = `Sort: ${sortLabel}`;

      $("#themeBtn").addEventListener("click", ()=>{
        setTheme(state.theme === "dark" ? "light" : "dark");
      });

      $("#quoteBtn").addEventListener("click", openModal);
      $("#openQuoteBtn2").addEventListener("click", openModal);
      $("#closeModalBtn").addEventListener("click", closeModal);
      $("#modalBackdrop").addEventListener("click", (e)=>{ if(e.target.id === "modalBackdrop") closeModal(); });

      $("#openCatalogBtn").addEventListener("click", ()=> $("#productGrid").scrollIntoView({behavior:"smooth", block:"start"}));
      $("#backTopBtn").addEventListener("click", ()=> window.scrollTo({top:0, behavior:"smooth"}));

      $("#copyEmailBtn").addEventListener("click", async ()=>{
        const template =
`Subject: Wholesale Quote Request

Hello DaneB3D Wholesale,

I'd like a wholesale quote.

Store/Business:
Contact Name:
Reply Email:
Wholesale Tier:
Products I'm interested in:
- (list SKUs + quantities)

Notes:
(colors, packaging, customization, delivery expectations)

Thank you!`;
        await copyText(template);
        toast("Copied email template");
      });

      $("#copyTemplateBtn").addEventListener("click", async ()=>{
        const start = document.documentElement.innerHTML.indexOf("PRODUCT TEMPLATE (COPY/PASTE)");
        if(start < 0){
          toast("Template not found");
          return;
        }
        const html = document.documentElement.outerHTML;
        const a = html.indexOf("<article class=\"card\"", start);
        const b = html.indexOf("</article>", a);
        const snippet = html.slice(a, b + "</article>".length);
        await copyText(snippet);
        toast("Copied HTML product template");
      });

      $("#sortPill").addEventListener("click", cycleSort);

      $("#searchInput").addEventListener("input", (e)=>{
        state.query = e.target.value;
        render();
      });

      $("#searchInput").addEventListener("keydown", (e)=>{
        if(e.key === "Escape"){
          e.target.value = "";
          state.query = "";
          render();
          toast("Search cleared");
        }
      });

      $("#filterChips").addEventListener("click", (e)=>{
        const pill = e.target.closest(".pill");
        if(!pill) return;
        setFilter(pill.dataset.filter);
      });

      $("#clearQuoteBtn").addEventListener("click", ()=>{
        state.selected = [];
        localStorage.setItem("db_selected", "[]");
        render();
        toast("Cleared selected products");
      });

      $("#quoteForm").addEventListener("submit", async (e)=>{
        e.preventDefault();
        const form = {
          storeName: $("#storeName").value.trim(),
          contactName: $("#contactName").value.trim(),
          email: $("#email").value.trim(),
          tier: $("#tier").value,
          notes: $("#notes").value.trim()
        };
        const body = buildEmailBody(form);
        const subject = encodeURIComponent("Wholesale Quote Request");
        const mailto = `mailto:?subject=${subject}&body=${encodeURIComponent(body)}`;
        await copyText(body);
        toast("Copied email body. Opening your email app‚Ä¶");
        window.location.href = mailto;
      });

      window.addEventListener("keydown", (e)=>{
        if(e.key === "/" && document.activeElement !== $("#searchInput")){
          e.preventDefault();
          $("#searchInput").focus();
        }
        if(e.key === "Escape"){
          if($("#modalBackdrop").classList.contains("show")){
            closeModal();
          }
        }
      });

      window.addEventListener("addToQuote", (e)=>{
        const { sku } = e.detail || {};
        if(sku) toggleSelect(sku);
      });

      render();
    }

    init();
  </script>
</body>
</html>
